_cache_test_config {
  ttl = 1s
  max-size = 1
}

{
  include required("../splice-instance-names.conf")
  storage = ${_shared.storage}
  storage {
    config {
      properties = {
        databaseName = "splice_apps"
      }
    }
  }
  admin-api.address = 0.0.0.0
  participant-client {
    ledger-api.auth-config.type = "none"
  }

  # Reduce in tests as SVs change relatively frequently here.
  cache {
      sv-node-state = ${_cache_test_config}
      total-amulet-balance = ${_cache_test_config}
      amulet-rules = ${_cache_test_config}
      ans-rules = ${_cache_test_config}
      total-rewards-collected = ${_cache_test_config}
      rewards-collected-in-round = ${_cache_test_config}
      wallet-balance = ${_cache_test_config}
      amulet-config-for-round = ${_cache_test_config}
      round-of-latest-data = ${_cache_test_config}
      top-providers-by-app-rewards = ${_cache_test_config}
      top-validators = ${_cache_test_config}
      validator-license-by-validator = ${_cache_test_config}
      total-purchased-member-traffic = ${_cache_test_config}
      cached-by-party = ${_cache_test_config}
      aggregated-rounds = ${_cache_test_config}
      round-totals = ${_cache_test_config}
      vote-requests = ${_cache_test_config}
  }
}
